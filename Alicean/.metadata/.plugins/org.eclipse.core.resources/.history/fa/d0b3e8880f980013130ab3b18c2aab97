import java.rmi.Naming;

public class Client {
	static String server;
	static int port;
	static String function;
	int account;
	int amount;
	
	static Server_Client_Interface scinterface;
	
	public static void main(String[] args)
	{
		String help = "--usage:  <server address:port> <function> <int acnt> <int acnt> <int amnt>";
		server = args[0];
		try { scinterface = (Server_Client_Interface)Naming.lookup(server); }
		catch(Exception e) { System.out.println("Client excpetion:  " + e); }
		function = args[1];
		if (args.length == 2)
		{
			//load test file
			//for each line of text, call function
		}
		else if (args.length == 3)
		{
			if (function.equals("inquiry")) 
			{
				int acnt = 0;
				try { acnt = Integer.parseInt(args[2]); }
				catch (NumberFormatException e) {
			        System.err.println("Argument 3 must be an integer");
			        System.exit(1);
			    }
				Client.inquiry(acnt);
			} else {
				System.err.println(help);
				System.exit(1);
			}
			
			//function = args[2];
			//account = args[3];
		}
		else
		{
			//error
		}
	}
	
	// this operation increases the balance of user account acnt by amt, and returns nothing
	void deposit(int acnt, int amt)
	{
		try { scinterface.deposit(acnt, amt); }
		catch(Exception e) {}
	}
	// this operation decreases the balance of user account acnt by amt, and returns nothing
	void withdraw(int acnt, int amt)
	{
		int balance = inquiry(acnt);
		if(balance < amt);
			//error
		else
		{
			try { scinterface.withdraw(acnt, amt); }
			catch(Exception e) {}
		}
	}
	// this operation transfers money with amount of amt from banking account acnt1 to account acnt2
	void transfer(int acnt1, int acnt2, int amt)
	{
		int balance = inquiry(acnt1);
		if(balance < amt);
			//error
		else
		{
			try { scinterface.transfer(acnt1, acnt2, amt); }
			catch(Exception e) {}
		}
	}
	// this operation returns the balance of user account acnt
	static int inquiry(int acnt)
	{
		return getAmount(acnt);
	}
	
	private static int getAmount(int acnt)
	{
		int amt = 0;
		try { amt = scinterface.inquiry(acnt); }
		catch(Exception e) {}
		return amt;
	}
}
//}
